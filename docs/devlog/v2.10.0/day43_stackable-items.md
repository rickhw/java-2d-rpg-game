
https://www.youtube.com/watch?v=Mb9dszhWop4&list=PL_QPQmz5C6WUF-pOQDsbsKbaBZqXj4qSq&index=47

# Stackable Items

- 撿起物件 (Potion) 時, Inventory 同一個名稱的物件在右下角顯示數量
    - 路上撿到
    - 開寶箱獲得
- 使用物件，數量會減少
    - 單獨使用 potion
    - 使用 Key 開門
- 去商店買東西，物件數量會增加
- 去商店賣東西，物件數量會減少

---

# Video Summary

### 🎮 物品堆疊系統的實現
- **物品堆疊功能**：將某些物品（如藥水和鑰匙）設為可堆疊，以減少佔用的背包空間。
- **新屬性**：在物品類別中新增兩個屬性`isStackable`（預設為`false`）和`amount`（預設為1）。

### 📦 背包管理
- **方法新增**：在玩家類別中新增`checkItemInInventory`方法，檢查背包中是否已存在該物品，並返回其索引。
- **新增方法**：`canObtainItem`，該方法檢查獲取物品的條件，尤其是對於可堆疊物品的處理。

### ⚙️ 物品獲取邏輯
- **檢查可堆疊性**：若物品可堆疊，且玩家已有該物品，則增長其數量，而不佔用新的背包空間；否則，將物品放進空槽。
- **拾取方法**：修改物品拾取邏輯，以使用`canObtainItem`方法來檢查是否能獲取該物品。

### 📊 介面顯示更新
- **顯示數量**：在背包畫面中顯示堆疊物品的數量，確保數字對齊和合理顯示。
- **檢查物品功能**：在交易過程中，確保只對玩家背包進行操作，防止顯示錯誤的物品數量。

### 🔄 處理交易
- **購買物品邏輯**：在商人購物時，若背包已滿，則顯示相應的提示；若未滿則更新金幣和物品數量。
- **賣出物品邏輯**：確保當降低堆疊物品數量時，正確更新玩家背包。